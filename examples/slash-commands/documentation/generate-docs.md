# 生成文档命令

自动生成项目文档，包含 API 文档、README、代码注释和使用指南。

## 使用方法

将此文件保存为 `.claude/commands/generate-docs.md`，然后使用 `/generate-docs` 命令。

## 命令内容

```markdown
# 生成项目文档

自动分析项目结构和代码，生成完整的项目文档。

## 文档类型

文档类型: $ARGUMENTS (可选: api, readme, comments, user-guide, all)

## 文档生成流程

### 1. 项目分析

首先分析项目结构、技术栈和主要功能：
- 识别项目类型和框架
- 分析目录结构和文件组织
- 检测 API 端点和数据模型
- 识别关键配置和依赖

### 2. 根据项目类型生成相应文档

#### API 文档生成

对于后端项目，生成详细的 API 文档：
- 列出所有 API 端点
- 描述请求/响应格式
- 提供示例请求和响应
- 说明认证和权限要求
- 包含错误代码说明

格式化为 OpenAPI/Swagger 规范或 Markdown 文档。

#### README.md 生成

创建包含以下部分的完整 README：
- 项目简介和特性
- 技术栈说明
- 安装和设置指南
- 使用说明和示例
- 开发环境配置
- 贡献指南
- 许可证信息

#### 代码注释增强

为缺少注释的代码添加详细说明：
- 函数和方法的用途说明
- 参数和返回值描述
- 复杂逻辑的实现说明
- 使用示例和注意事项

#### 用户指南

生成面向最终用户的使用指南：
- 功能概览和使用场景
- 详细的操作步骤
- 常见问题和解决方案
- 最佳实践建议

### 3. 特定框架的文档生成

#### React/Vue 组件文档
- 组件 props 说明
- 事件和方法文档
- 使用示例
- Storybook 集成

#### Node.js/Express API 文档
- 路由定义说明
- 中间件功能描述
- 数据模型文档
- 环境配置说明

#### Python/Django 文档
- 模型和视图文档
- API 端点说明
- 管理命令文档
- 配置参数说明

#### Java/Spring 文档
- Controller 和 Service 文档
- 实体和 DTO 说明
- 配置属性文档
- 异常处理说明

### 4. 交互式文档生成

根据项目需要，创建以下交互式文档：
- API 测试界面 (Swagger UI)
- 组件演示页面 (Storybook)
- 在线教程和指南
- 代码示例和 Playground

### 5. 文档质量检查

生成文档后进行质量检查：
- 检查链接有效性
- 验证代码示例正确性
- 确保文档结构完整
- 验证格式和样式一致性

## 文档模板和结构

请根据项目实际情况，选择合适的文档模板和结构：

### README.md 模板
```markdown
# 项目名称

简洁的项目描述

## 特性

- 核心功能1
- 核心功能2
- 核心功能3

## 技术栈

- 前端: React/Vue/Angular
- 后端: Node.js/Python/Java
- 数据库: PostgreSQL/MySQL/MongoDB

## 快速开始

### 环境要求
- Node.js 16+
- Python 3.8+
- 其他依赖

### 安装步骤
1. 克隆仓库
2. 安装依赖
3. 配置环境
4. 启动应用

## 使用指南

详细的使用说明和示例

## API 文档

链接到详细的 API 文档

## 贡献指南

如何参与项目贡献

## 许可证

项目许可证信息
```

### API 文档模板
为每个 API 端点生成详细文档，包含：
- 端点描述和用途
- HTTP 方法和路径
- 请求参数和格式
- 响应格式和示例
- 错误代码和处理
- 认证和权限要求

### 代码注释模板
为函数和类添加标准化注释：
- 功能描述
- 参数说明
- 返回值描述
- 异常说明
- 使用示例
- 注意事项

## 文档发布和维护

生成文档后，建议：
1. 设置自动化文档更新流程
2. 集成到 CI/CD 流水线
3. 建立文档审查机制
4. 定期更新和维护

请分析当前项目并生成相应的文档，确保文档准确、完整、易于理解。
```

## 示例用法

```bash
# 生成所有文档
/generate-docs

# 只生成 API 文档
/generate-docs api

# 只生成 README
/generate-docs readme

# 生成用户指南
/generate-docs user-guide

# 增强代码注释
/generate-docs comments
```

## 预期输出

Claude Code 将会：

1. 分析项目结构和代码
2. 生成相应类型的文档
3. 创建文档文件和目录结构
4. 提供文档质量检查报告
5. 建议文档维护和更新策略

## 相关命令

- `/update-docs` - 更新现有文档
- `/check-docs` - 检查文档质量
- `/api-docs` - 专门生成 API 文档
- `/setup-docs-site` - 建立文档网站